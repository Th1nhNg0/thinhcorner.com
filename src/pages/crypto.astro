---
import Container from "@/components/Container.astro";
import Layout from "@/layouts/Layout.astro";
import AllocationPanel from "@/components/crypto/AllocationPanel.astro";

import { loadCryptoPageData } from "@/lib/crypto";

export const prerender = false;

const { pieChartData } = await loadCryptoPageData();
---

<Layout
  title="Crypto Portfolio"
  description="A snapshot of my cryptocurrency investments and their distribution."
>
  <Container>
    <h1
      class="text-4xl mb-8 tracking-tight sm:text-6xl flex font-heading font-bold"
    >
      My crypto portfolio
    </h1>
    <section class="prose max-w-none prose-invert mb-8 prose-a:text-yellow-500">
      <p class="leading-relaxed">
        This page provides a transparent overview of my cryptocurrency
        investment journey. I employ an automated daily investment strategy,
        focusing on a
        <b class="text-yellow-400">long-term, 10-year outlook</b>. Read more
        about the thinking behind this approach in
        <a
          href="/blog/why-i-dca-crypto-now"
          class="text-yellow-400 underline hover:text-yellow-300"
          >Why I DCA crypto now</a
        >. This approach commenced at the beginning of 2025, reflecting a
        commitment to disciplined and patient wealth accumulation in the digital
        asset space.
      </p>
    </section>

    <div class="space-y-6 pb-6">
      <div
        class="bg-linear-to-br from-zinc-800/80 to-zinc-900/80 backdrop-blur-sm border border-zinc-700/50 rounded-2xl p-2 md:p-6"
      >
        <div class="flex items-center mb-6">
          <h3 class="text-3xl font-bold font-heading">Portfolio Performance</h3>
        </div>

        <p class="text-sm text-zinc-400 mb-6">
          Figures below reflect the snapshot captured when you opened the page.
          Refresh anytime you want to pull a new live readout.
        </p>

        <AllocationPanel pieChartData={pieChartData} />
      </div>
    </div>
  </Container>
</Layout>
