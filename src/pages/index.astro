---
import Container from "@/components/Container.astro";
import { SOCIAL_MEDIA } from "@/consts";
import Layout from "@/layouts/Layout.astro";
import { getCollection } from "astro:content";
import { format } from "date-fns";

const blog = (await getCollection("blog"))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, 5);
---

<Layout title="Thinh's Corner" description="Ng√¥ Ph√∫ Th·ªãnh's personal blog">
  <Container>
    <div class="space-y-8">
      <h1 class="text-4xl font-bold tracking-tight text-white sm:text-5xl">
        Ng√¥ Ph√∫ Th·ªãnh
      </h1>
      <div class="space-y-4 text-zinc-400">
        <p class="leading-relaxed">
          Hi, I'm Ng√¥ Ph√∫ Th·ªãnh - a software engineer, a web developer, and a
          data scientist (maybe üòÜ). I'm passionate about technology and love to
          learn new things. I'm currently spinning up some startups with friends
          and working on some side projects.
        </p>
        <p class="leading-relaxed">
          Outside of programming, I enjoy listening to music and reading book.
          Right now I live in Ho Chi Minh, Vietnam. If you are around, feel free
          to reach me out, we could have some coffee or work together.
        </p>
        <p class="font-medium text-zinc-200">Find me on</p>
      </div>

      <div class="not-prose flex flex-wrap gap-3">
        {
          SOCIAL_MEDIA.facebook && (
            <a
              href={SOCIAL_MEDIA.facebook}
              target="_blank"
              class="flex items-center space-x-2 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 transition-colors duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95"
                />
              </svg>
              <span>Facebook</span>
            </a>
          )
        }
        {
          SOCIAL_MEDIA.github && (
            <a
              href={SOCIAL_MEDIA.github}
              target="_blank"
              class="flex items-center space-x-2 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 transition-colors duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"
                />
              </svg>
              <span>Github</span>
            </a>
          )
        }
        {
          SOCIAL_MEDIA.steam && (
            <a
              href={SOCIAL_MEDIA.steam}
              target="_blank"
              class="flex items-center space-x-2 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 transition-colors duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M12 2a10 10 0 0 1 10 10a10 10 0 0 1-10 10c-4.6 0-8.45-3.08-9.64-7.27l3.83 1.58a2.84 2.84 0 0 0 2.78 2.27c1.56 0 2.83-1.27 2.83-2.83v-.13l3.4-2.43h.08c2.08 0 3.77-1.69 3.77-3.77s-1.69-3.77-3.77-3.77s-3.78 1.69-3.78 3.77v.05l-2.37 3.46l-.16-.01c-.59 0-1.14.18-1.59.49L2 11.2C2.43 6.05 6.73 2 12 2M8.28 17.17c.8.33 1.72-.04 2.05-.84s-.05-1.71-.83-2.04l-1.28-.53c.49-.18 1.04-.19 1.56.03c.53.21.94.62 1.15 1.15c.22.52.22 1.1 0 1.62c-.43 1.08-1.7 1.6-2.78 1.15c-.5-.21-.88-.59-1.09-1.04zm9.52-7.75c0 1.39-1.13 2.52-2.52 2.52a2.52 2.52 0 0 1-2.51-2.52a2.5 2.5 0 0 1 2.51-2.51a2.52 2.52 0 0 1 2.52 2.51m-4.4 0c0 1.04.84 1.89 1.89 1.89c1.04 0 1.88-.85 1.88-1.89s-.84-1.89-1.88-1.89c-1.05 0-1.89.85-1.89 1.89"
                />
              </svg>
              <span>Steam</span>
            </a>
          )
        }
        {
          SOCIAL_MEDIA.spotify && (
            <a
              href={SOCIAL_MEDIA.spotify}
              target="_blank"
              class="flex items-center space-x-2 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 transition-colors duration-200"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
              >
                <g fill="none">
                  <>
                    <g clip-path="url(#akarIconsSpotifyFill0)">
                      <path
                        fill="currentColor"
                        d="M11.995 0C5.381 0 0 5.382 0 11.996C0 18.616 5.381 24 11.995 24C18.615 24 24 18.615 24 11.996C24 5.382 18.615 0 11.995 0M5.908 16.404a14.6 14.6 0 0 1 4.238-.638c2.414 0 4.797.612 6.892 1.77c.125.068.238.292.29.572c.05.28.03.567-.052.716a.61.61 0 0 1-.834.24A13.1 13.1 0 0 0 6.277 18.03a.61.61 0 0 1-.771-.402c-.107-.35.114-1.13.402-1.224m-.523-4.42a18.2 18.2 0 0 1 4.76-.635c2.894 0 5.767.7 8.31 2.026c.179.09.31.244.37.432a.75.75 0 0 1-.052.578c-.227.444-.493.743-.66.743a.8.8 0 0 1-.35-.086a16.3 16.3 0 0 0-7.617-1.854a16.3 16.3 0 0 0-4.366.585a.75.75 0 0 1-.92-.525c-.112-.422.145-1.16.525-1.264M5.25 9.098a.88.88 0 0 1-1.073-.641c-.123-.498.188-1.076.64-1.19a22.4 22.4 0 0 1 5.328-.649c3.45 0 6.756.776 9.824 2.307a.89.89 0 0 1 .4 1.19c-.143.288-.453.598-.795.598a.9.9 0 0 1-.388-.087A20 20 0 0 0 10.145 8.5c-1.635 0-3.282.201-4.895.598"
                      />
                    </g>
                    <defs>
                      <clipPath id="akarIconsSpotifyFill0">
                        <path fill="#fff" d="M0 0h24v24H0z" />
                      </clipPath>
                    </defs>
                  </>
                </g>
              </svg>
              <span>Spotify</span>
            </a>
          )
        }
      </div>
      <p class="text-zinc-400">
        Or mail me at{" "}
        <a
          href="mailto:thinhngow@gmail.com"
          class="font-medium text-zinc-200 hover:underline"
        >
          thinhngow@gmail.com
        </a>.
      </p>
      <section class="mt-16">
        <h2 class="text-accent mb-6 text-xl text-zinc-200">
          <a href="/blog/">Posts</a>
        </h2>
        <ul class="space-y-4" role="list">
          {
            blog.map((post) => (
              <li class="grid gap-2 sm:grid-cols-[auto_1fr]">
                <time
                  datetime={post.data.date.toISOString()}
                  title={post.data.date.toISOString()}
                  class="min-w-30 font-semibold text-zinc-400"
                >
                  {format(new Date(post.data.date), "dd MMM yyyy")}
                </time>
                <div class="text-zinc-200">
                  <a data-astro-prefetch="" href={`/blog/${post.id}`}>
                    {post.data.title}
                  </a>
                </div>
              </li>
            ))
          }
        </ul>
      </section>
    </div>
  </Container>
</Layout>
